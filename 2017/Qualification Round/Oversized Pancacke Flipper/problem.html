<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1504.81">
  <style type="text/css">
    p.p2 {margin: 0.0px 0.0px 10.0px 0.0px; line-height: 11.0px; font: 10.0px Arial; color: #000000; -webkit-text-stroke: #000000; background-color: #ffffff}
    p.p3 {margin: 0.0px 0.0px 10.0px 0.0px; line-height: 11.0px; font: 10.0px Arial; color: #000000; -webkit-text-stroke: #000000}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 11.0px; font: 10.0px Arial; color: #000000; -webkit-text-stroke: #000000; min-height: 11.0px}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 15.0px; font: 13.0px Arial; color: #000000; -webkit-text-stroke: #000000}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 11.0px; font: 10.0px Arial; color: #000000; -webkit-text-stroke: #000000}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 15.0px; font: 13.0px Courier; color: #000000; -webkit-text-stroke: #000000; background-color: #efefef}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 15.0px; font: 13.0px Courier; color: #000000; -webkit-text-stroke: #000000; background-color: #efefef; min-height: 16.0px}
    span.s1 {font-kerning: none}
    span.s2 {text-decoration: underline ; font-kerning: none; color: #551a8b; -webkit-text-stroke: 0px #551a8b}
    span.s3 {font: 13.0px Courier; font-kerning: none}
    span.s4 {font-kerning: none; background-color: #ffffff}
    span.s5 {font: 13.0px Courier; font-kerning: none; background-color: #ffffff}
    span.s6 {font-kerning: none; background-color: #efefef}
    span.s7 {font: 10.0px Arial; font-kerning: none; background-color: #efefef}
    table.t1 {border-collapse: collapse}
    td.td1 {width: 78.4px; padding: 0.0px 10.0px 0.0px 10.0px}
    td.td2 {width: 148.8px; padding: 0.0px 10.0px 0.0px 10.0px}
  </style>
</head>
<body>
<h3 style="margin: 0.0px 0.0px 14.3px 0.0px; line-height: 16.0px; font: 14.3px Arial; color: #000000; -webkit-text-stroke: #000000; background-color: #ffffff"><span class="s1">Problem</span></h3>
<p class="p2"><span class="s2"><a href="https://code.google.com/codejam/contest/6254486/dashboard#s=p1">Last year</a></span><span class="s1">, the Infinite House of Pancakes introduced a new kind of pancake. It has a happy face made of chocolate chips on one side (the "happy side"), and nothing on the other side (the "blank side").</span></p>
<p class="p2"><span class="s1">You are the head cook on duty. The pancakes are cooked in a single row over a hot surface. As part of its infinite efforts to maximize efficiency, the House has recently given you an oversized pancake flipper that flips exactly <b>K</b> consecutive pancakes. That is, in that range of <b>K</b> pancakes, it changes every happy-side pancake to a blank-side pancake, and vice versa; it does <i>not</i> change the left-to-right order of those pancakes.</span></p>
<p class="p2"><span class="s1">You cannot flip fewer than <b>K</b> pancakes at a time with the flipper, even at the ends of the row (since there are raised borders on both sides of the cooking surface). For example, you can flip the first <b>K</b> pancakes, but not the first <b>K</b> - 1 pancakes.</span></p>
<p class="p2"><span class="s1">Your apprentice cook, who is still learning the job, just used the old-fashioned single-pancake flipper to flip some individual pancakes and then ran to the restroom with it, right before the time when customers come to visit the kitchen. You only have the oversized pancake flipper left, and you need to use it quickly to leave all the cooking pancakes happy side up, so that the customers leave feeling happy with their visit.</span></p>
<p class="p2"><span class="s1">Given the current state of the pancakes, calculate the minimum number of uses of the oversized pancake flipper needed to leave all pancakes happy side up, or state that there is no way to do it.</span></p>
<h3 style="margin: 0.0px 0.0px 14.3px 0.0px; line-height: 16.0px; font: 14.3px Arial; color: #000000; -webkit-text-stroke: #000000; background-color: #ffffff"><span class="s1">Input</span></h3>
<p class="p2"><span class="s1">The first line of the input gives the number of test cases, <b>T</b>. <b>T</b> test cases follow. Each consists of one line with a string <b>S</b> and an integer <b>K</b>. <b>S</b> represents the row of pancakes: each of its characters is either </span><span class="s3">+</span><span class="s1"> (which represents a pancake that is initially happy side up) or </span><span class="s3">-</span><span class="s1"> (which represents a pancake that is initially blank side up).</span></p>
<h3 style="margin: 0.0px 0.0px 14.3px 0.0px; line-height: 16.0px; font: 14.3px Arial; color: #000000; -webkit-text-stroke: #000000; background-color: #ffffff"><span class="s1">Output</span></h3>
<p class="p2"><span class="s1">For each test case, output one line containing </span><span class="s3">Case #x: y</span><span class="s1">, where </span><span class="s3">x</span><span class="s1"> is the test case number (starting from 1) and </span><span class="s3">y</span><span class="s1"> is either </span><span class="s3">IMPOSSIBLE</span><span class="s1"> if there is no way to get all the pancakes happy side up, or an integer representing the the minimum number of times you will need to use the oversized pancake flipper to do it.</span></p>
<h3 style="margin: 0.0px 0.0px 14.3px 0.0px; line-height: 16.0px; font: 14.3px Arial; color: #000000; -webkit-text-stroke: #000000; background-color: #ffffff"><span class="s1">Limits</span></h3>
<p class="p3"><span class="s4">1 ≤ <b>T</b> ≤ 100.</span><span class="s1"><br>
</span><span class="s4">Every character in <b>S</b> is either </span><span class="s5">+</span><span class="s4"> or </span><span class="s5">-</span><span class="s4">.</span><span class="s1"><br>
</span><span class="s4">2 ≤ <b>K</b> ≤ length of <b>S</b>.</span><span class="s1"><br>
</span></p>
<h4 style="margin: 0.0px 0.0px 19.0px 0.0px; line-height: 16.0px; font: 14.3px Arial; color: #000000; -webkit-text-stroke: #000000; background-color: #ffffff"><span class="s1">Small dataset</span></h4>
<p class="p3"><span class="s4">2 ≤ length of <b>S</b> ≤ 10.</span><span class="s1"><br>
</span></p>
<h4 style="margin: 0.0px 0.0px 19.0px 0.0px; line-height: 16.0px; font: 14.3px Arial; color: #000000; -webkit-text-stroke: #000000; background-color: #ffffff"><span class="s1">Large dataset</span></h4>
<p class="p3"><span class="s4">2 ≤ length of <b>S</b> ≤ 1000.</span><span class="s1"><br>
</span></p>
<h3 style="margin: 0.0px 0.0px 14.3px 0.0px; line-height: 16.0px; font: 14.3px Arial; color: #000000; -webkit-text-stroke: #000000; background-color: #ffffff"><span class="s1">Sample</span></h3>
<table cellspacing="0" cellpadding="0" class="t1">
  <tbody>
    <tr>
      <td valign="top" class="td1">
        <p class="p5"><span class="s1"></span><br></p>
        <p class="p6"><span class="s6">Input</span><span class="s7"><span class="Apple-converted-space"> </span></span></p>
        <p class="p7"><span class="s6"> </span></p>
      </td>
      <td valign="top" class="td2">
        <p class="p5"><span class="s1"></span><br></p>
        <p class="p6"><span class="s6">Output</span><span class="s7"><span class="Apple-converted-space"> </span></span></p>
        <p class="p7"><span class="s6"> </span></p>
      </td>
    </tr>
    <tr>
      <td valign="top" class="td1">
        <p class="p8"><span class="s1">3</span></p>
        <p class="p8"><span class="s1">---+-++- 3</span></p>
        <p class="p8"><span class="s1">+++++ 4</span></p>
        <p class="p8"><span class="s1">-+-+- 4</span></p>
        <p class="p9"><span class="s1"></span><br></p>
      </td>
      <td valign="top" class="td2">
        <p class="p8"><span class="s1">Case #1: 3</span></p>
        <p class="p8"><span class="s1">Case #2: 0</span></p>
        <p class="p8"><span class="s1">Case #3: IMPOSSIBLE</span></p>
      </td>
    </tr>
  </tbody>
</table>
<p class="p2"><span class="s1">In Case #1, you can get all the pancakes happy side up by first flipping the leftmost 3 pancakes, getting to </span><span class="s3">++++-++-</span><span class="s1">, then the rightmost 3, getting to </span><span class="s3">++++---+</span><span class="s1">, and finally the 3 pancakes that remain blank side up. There are other ways to do it with 3 flips or more, but none with fewer than 3 flips.</span></p>
<p class="p2"><span class="s1">In Case #2, all of the pancakes are already happy side up, so there is no need to flip any of them.</span></p>
<p class="p2"><span class="s1">In Case #3, there is no way to make the second and third pancakes from the left have the same side up, because any flip flips them both. Therefore, there is no way to make all of the pancakes happy side up.</span></p>
</body>
</html>
